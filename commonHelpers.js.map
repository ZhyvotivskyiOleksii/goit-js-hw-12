{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api\"\nconst API_KEY = \"30733650-3915f9571a70fae81f0483ef4\"\n\n\nfunction searchImages(q) {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n    return fetch(`${BASE_URL}?${params}`).then(res => {\n        if (!res.ok) throw new Error(\"Sorry, there are no images matching your search query. Please try again!\")\n\n        return res.json()\n    })\n}\n\nexport { searchImages }","function createGalleryMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${tags}\"\n      />\n    </a>\n    <div class=\"image-stats\">\n        <p>Likes <span>${likes}</span></p>\n        <p>Views <span>${views}</span></p>\n        <p>Comments <span>${comments}</span></p>\n        <p>Downloads <span>${downloads}</span></p>\n    </div>\n    </li>`).join(\"\")\n}\n\nexport { createGalleryMarkup }","import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { searchImages } from \"./js/pixabay-api.js\"\nimport { createGalleryMarkup } from \"./js/render-functions.js\"\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loadingText = document.querySelector(\".loading-text\");\nconst simpleGallery = new SimpleLightbox(\".gallery a\", { captionDelay: 250, captionsData: \"alt\" });\n\nform.addEventListener(\"submit\", handleSearch);\n\nconst iziToastErrorOptions = {\n    title: 'Error',\n    message: 'Empty query!',\n    titleColor: 'white',\n    messageColor: 'white',\n    backgroundColor: 'red',\n    position: 'topRight'\n}\n\nfunction handleSearch(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const userQuery = form.elements.query.value.trim();\n\n    if (userQuery === \"\") {\n        iziToast.show(iziToastErrorOptions);\n        return;\n    }\n\n    gallery.innerHTML = \"\";\n    loadingText.classList.remove(\"hidden\");\n\n    searchImages(userQuery).then(data => {\n        if (data.totalHits === 0) {\n            throw new Error(\"Sorry, there are no images matching your search query. Please try again!\")\n        }\n\n        loadingText.classList.add(\"hidden\");\n        gallery.innerHTML = createGalleryMarkup(data.hits)\n        simpleGallery.refresh()\n    }).catch(err => {\n        iziToast.show({ ...iziToastErrorOptions, message: err.message });\n        loadingText.classList.add(\"hidden\");\n    }).finally(() => form.reset())\n}\n"],"names":["BASE_URL","API_KEY","searchImages","q","params","res","createGalleryMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","gallery","loadingText","simpleGallery","SimpleLightbox","handleSearch","iziToastErrorOptions","event","userQuery","iziToast","data","err"],"mappings":"6vBAAA,MAAMA,EAAW,0BACXC,EAAU,qCAGhB,SAASC,EAAaC,EAAG,CACrB,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKH,EACL,EAAAE,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAO,CAC9C,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAM,0EAA0E,EAEvG,OAAOA,EAAI,KAAM,CACzB,CAAK,CACL,CCjBA,SAASC,EAAoBC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA,oCAC7DL,CAAa;AAAA;AAAA;AAAA,eAGlCD,CAAY;AAAA,eACZE,CAAI;AAAA;AAAA;AAAA;AAAA,yBAIMC,CAAK;AAAA,yBACLC,CAAK;AAAA,4BACFC,CAAQ;AAAA,6BACPC,CAAS;AAAA;AAAA,UAE5B,EAAE,KAAK,EAAE,CACnB,CCRA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAgB,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,KAAK,CAAE,EAEjGJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,MAAMC,EAAuB,CACzB,MAAO,QACP,QAAS,eACT,WAAY,QACZ,aAAc,QACd,gBAAiB,MACjB,SAAU,UACd,EAEA,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMP,EAAOO,EAAM,cACbC,EAAYR,EAAK,SAAS,MAAM,MAAM,OAE5C,GAAIQ,IAAc,GAAI,CAClBC,EAAS,KAAKH,CAAoB,EAClC,MACH,CAEDL,EAAQ,UAAY,GACpBC,EAAY,UAAU,OAAO,QAAQ,EAErCf,EAAaqB,CAAS,EAAE,KAAKE,GAAQ,CACjC,GAAIA,EAAK,YAAc,EACnB,MAAM,IAAI,MAAM,0EAA0E,EAG9FR,EAAY,UAAU,IAAI,QAAQ,EAClCD,EAAQ,UAAYV,EAAoBmB,EAAK,IAAI,EACjDP,EAAc,QAAS,CAC/B,CAAK,EAAE,MAAMQ,GAAO,CACZF,EAAS,KAAK,CAAE,GAAGH,EAAsB,QAASK,EAAI,OAAO,CAAE,EAC/DT,EAAY,UAAU,IAAI,QAAQ,CACrC,CAAA,EAAE,QAAQ,IAAMF,EAAK,MAAK,CAAE,CACjC"}